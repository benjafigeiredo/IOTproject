"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.outputListing = exports.outputGenericListing = void 0;
const basic_io_1 = require("./basic-io");
const command_util_1 = require("./command-util");
// TODO: rename both of these to something like outputItemOrList
async function outputGenericListing(command, config, idOrIndex, listFunction, getFunction, translateToId, includeIndex = true) {
    if (idOrIndex) {
        const id = await translateToId(idOrIndex, listFunction);
        await basic_io_1.outputItem(command, config, () => getFunction(id));
    }
    else {
        await basic_io_1.outputList(command, config, listFunction, includeIndex);
    }
}
exports.outputGenericListing = outputGenericListing;
outputGenericListing.flags = basic_io_1.outputList.flags;
async function outputListing(command, config, idOrIndex, listFunction, getFunction, includeIndex = true) {
    return outputGenericListing(command, config, idOrIndex, listFunction, getFunction, (idOrIndex, listFunction) => command_util_1.stringTranslateToId(config, idOrIndex, listFunction), includeIndex);
}
exports.outputListing = outputListing;
outputListing.flags = outputGenericListing.flags;
