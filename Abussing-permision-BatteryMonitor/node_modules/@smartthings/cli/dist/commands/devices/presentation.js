"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.tableFieldDefinitions = void 0;
const cli_lib_1 = require("@smartthings/cli-lib");
const presentation_1 = require("../presentation");
const devices_1 = require("../devices");
exports.tableFieldDefinitions = ['clientName', 'scope', 'redirectUris'];
class DevicePresentationCommand extends cli_lib_1.APICommand {
    async run() {
        const { args, argv, flags } = this.parse(DevicePresentationCommand);
        await super.setup(args, argv, flags);
        const deviceId = await devices_1.chooseDevice(this, args.id, { allowIndex: true });
        const presentation = await this.client.devices.getPresentation(deviceId);
        await cli_lib_1.formatAndWriteItem(this, { buildTableOutput: data => presentation_1.buildTableOutput(this.tableGenerator, data) }, presentation);
    }
}
exports.default = DevicePresentationCommand;
DevicePresentationCommand.description = 'get a device presentation';
DevicePresentationCommand.flags = {
    ...cli_lib_1.APICommand.flags,
    ...cli_lib_1.formatAndWriteItem.flags,
};
DevicePresentationCommand.args = [{
        name: 'id',
        description: 'the device id or number in the list',
    }];
