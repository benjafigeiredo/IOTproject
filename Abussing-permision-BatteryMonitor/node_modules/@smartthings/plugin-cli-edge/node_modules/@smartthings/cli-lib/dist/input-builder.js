"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildInputProcessor = void 0;
const input_1 = require("./input");
/**
 * Build the most common type of input processor, which can handle data from stdin, a specified
 * file and optional "user" input formats.
 *
 * The input processors are tried in this order:
 *   1. file
 *   2. stdin
 *   3. alternateInputProcessors in the order they are listed
 *
 * @param alternateInputProcessors User input processors. Most commonly this will be a single
 * input processor that asks the user questions and builds input data based on their responses.
 * Another less common use case (which might co-exist with a Q&A input processor) would be building
 * the data from command line options.
 */
function buildInputProcessor(command, ...alternateInputProcessors) {
    const fileInputProcessor = new input_1.FileInputProcessor(command.flags.input);
    const stdinInputProcessor = new input_1.StdinInputProcessor();
    return new input_1.CombinedInputProcessor(fileInputProcessor, stdinInputProcessor, ...alternateInputProcessors);
}
exports.buildInputProcessor = buildInputProcessor;
buildInputProcessor.flags = {
    ...input_1.commonIOFlags,
    ...input_1.inputFlag,
};
